{"version":3,"file":"component---src-pages-main-tags-js-8c3f63bd2139c8889fd6.js","mappings":"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","sources":["webpack://avrtt.blog/./src/pages/main/tags.js","webpack://avrtt.blog/./src/styles/tags_page.module.scss","webpack://avrtt.blog/./src/stickers/pug_dance.gif","webpack://avrtt.blog/./src/styles/tag_badges.module.scss","webpack://avrtt.blog/./src/styles/buttons_common.module.scss"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { graphql } from 'gatsby';\nimport SEO from '../../components/seo'\nimport { motion } from 'framer-motion';\nimport { Link } from \"gatsby\";\nimport Box from '@mui/material/Box';\nimport PugDance from \"../../stickers/pug_dance.gif\"\nimport * as stylesTagsPage from \"../../styles/tags_page.module.scss\";\nimport * as stylesButtonsCommon from \"../../styles/buttons_common.module.scss\"\nimport * as stylesTagBadges from \"../../styles/tag_badges.module.scss\";\n\nconst Tags = ({ data }) => {\n  useEffect(() => {\n    window.scrollTo(0, 0);\n  }, []);\n\n  const [sortByFrequency, setSortByFrequency] = useState(true);\n  const [selectedTag, setSelectedTag] = useState(null);\n\n  const toggleSorting = () => {\n    setSortByFrequency(!sortByFrequency);\n  };\n\n  const tagCounts = {};\n\n  data.allMdx.nodes.forEach(post => {\n    const allTags = [post.frontmatter.mainTag, ...(post.frontmatter.otherTags || [])].filter(Boolean);\n    allTags.forEach(tag => {\n      if (tagCounts[tag]) {\n        tagCounts[tag] += 1;\n      } else {\n        tagCounts[tag] = 1;\n      }\n    });\n  });\n\n  const sortedTags = Object.entries(tagCounts).sort((a, b) => {\n    return sortByFrequency ? b[1] - a[1] : a[0].localeCompare(b[0]);\n  });\n\n  let posts = data.allMdx.nodes\n    .map(post => ({ ...post.frontmatter, id: post.id }))\n    .filter(post => post.title && post.slug)\n    .sort((a, b) => b.index - a.index);\n\n  const filteredPosts = selectedTag ? posts.filter(post => [post.mainTag, ...(post.otherTags || [])].includes(selectedTag)) : posts;\n\n  return (\n    <>\n      <div className=\"smallScreenNotice noselect\">\n\t\t\t\t<p>This page is not supported on small screen devices (and I'm a lazy ass to fix it). Use \"Posts\" page instead.</p>\n\t\t\t\t<div style={{ display: 'flex', justifyContent: 'center' }}>\n\t\t\t\t\t<img src={PugDance} style={{ width: '4rem' }} alt=\"dancing-pug\" />\n\t\t\t\t</div>\n\t\t\t</div>\n      <motion.div\n        className='desktopOnlySupport noselect'\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.15 }}>\n\n        <div style={{ display: 'flex' }}>\n          <motion.div \n        style={{ width: '55rem' }}\n        key={selectedTag}\n        initial={{ opacity: 0 }}\n        animate={{ opacity: 1 }}\n        exit={{ opacity: 0 }}\n        transition={{ duration: 0.3, ease: \"easeInOut\" }}\n      >\n        <p style={{ marginBottom: \"3rem\" }}> </p>\n            <Box component=\"ul\" sx={{ listStyleType: 'none', padding: 0 }}>\n              {filteredPosts.map(post => (\n                <li key={post.id} style={{ marginBottom: '4px' }}>\n                  <div>\n                    <span style={{ opacity: \"0.5\" }}>{post.date}</span> \n                    &nbsp;&nbsp;\n                    <span style={{ background: \"#ffffff\", padding: \"6px 11px 6px 11px\", borderRadius: \"10px\" }}>\n                      <Link to={post.slug} className=\"compactViewLink\">\n                        {post.title}\n                      </Link>\n                    </span>\n                  </div>\n                </li>\n              ))}\n            </Box>\n          </motion.div>\n          <div style={{ width: 'fit-content', textAlign: 'center' }}>\n            <div className={stylesTagsPage.sortingButtonWrapper} style={{ marginBottom: \"18px\"}} >\n              <motion.button onClick={toggleSorting} className=\"noselect\" className={stylesTagsPage.sortingButton} whileTap={{ scale: 0.95 }}>\n                <motion.div\n                  className={stylesButtonsCommon.buttonTextWrapper}\n                  key={sortByFrequency}\n                  initial={{ opacity: 0 }}\n                  animate={{ opacity: 1 }}\n                  exit={{ opacity: 0 }}\n                  transition={{ duration: 0.3, ease: \"easeInOut\" }}\n                >\n                  {sortByFrequency ? 'Sort by name' : 'Sort by frequency'}\n                </motion.div>\n              </motion.button>\n            </div>\n            <motion.span\n              key={sortByFrequency}\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              exit={{ opacity: 0 }}\n              transition={{ duration: 0.3, ease: \"easeInOut\" }}\n            >\n              {sortedTags.map(([tag, count]) => (\n                <motion.span\n                  key={tag}\n                  className={stylesTagBadges.tagPosts}\n                  style={{ \n                    cursor: 'pointer', \n                    opacity: selectedTag && selectedTag !== tag ? 0.55 : 1, \n                    transition: \"opacity 0.15s ease\",\n                    backgroundColor: data.allMdx.nodes.some(post => post.frontmatter.mainTag === tag) ? '#ffb05c' : '',\n                  }}\n                  whileHover={selectedTag ? { opacity: 1 } : { opacity: 0.7 }}\n                  transition={{ duration: 0.1 }}\n                  whileTap={{ scale: 0.95 }}\n                  onClick={() => setSelectedTag(selectedTag === tag ? null : tag)}\n                >\n                  <span>{tag}</span>\n                  &#8198;&#8198;\n                  <span style={{ opacity: 0.6 }}>{count}</span>\n                </motion.span>\n              ))}\n            </motion.span>\n          </div>\n        </div>\n      </motion.div>\n    </>\n  );\n};\n\nexport const query = graphql`\n  query {\n    allMdx(filter: {frontmatter: {flagHidden: {ne: true}}}) {\n      nodes {\n        id\n        frontmatter {\n          index\n          title\n          titleDetailed\n          date\n          mainTag\n          otherTags\n          slug\n        }\n      }\n    }\n  }\n`;\n\nexport default Tags;\n\nexport const Head = () => (\n  <SEO \n    title=\"Tags - avrtt.blog\"\n    description=\"Seach my blog posts by tag.\"\n    keywords={[\"website search\", \"filter by tag\", \"search by keyword\"]}\n    image={\"\"}\n    canonicalUrl=\"https://avrtt.github.io/tags\"\n    children\n  />\n)\n","// extracted by mini-css-extract-plugin\nexport var sortingButton = \"tags_page-module--sortingButton--73792\";\nexport var sortingButtonWrapper = \"tags_page-module--sortingButtonWrapper--64d55\";","export default __webpack_public_path__ + \"static/pug_dance-8090e20cbd208b811d04064b688f557b.gif\";","// extracted by mini-css-extract-plugin\nexport var badgeAbout = \"tag_badges-module--badgeAbout--9d2c5\";\nexport var badgeAboutMarked = \"tag_badges-module--badgeAboutMarked--9c24c\";\nexport var badgeEmoji = \"tag_badges-module--badgeEmoji--b7b78\";\nexport var badgesAboutWrapper = \"tag_badges-module--badgesAboutWrapper--a088e\";\nexport var mainTagGallery = \"tag_badges-module--mainTagGallery--521d3\";\nexport var tagPosts = \"tag_badges-module--tagPosts--bd80f\";","// extracted by mini-css-extract-plugin\nexport var buttonTextWrapper = \"buttons_common-module--buttonTextWrapper--3bdcb\";\nexport var buttonTextWrapperEnter = \"buttons_common-module--buttonTextWrapper-enter--3a32f\";\nexport var buttonTextWrapperEnterActive = \"buttons_common-module--buttonTextWrapper-enter-active--e99a2\";\nexport var buttonTextWrapperExit = \"buttons_common-module--buttonTextWrapper-exit--379fb\";\nexport var buttonTextWrapperExitActive = \"buttons_common-module--buttonTextWrapper-exit-active--437b8\";"],"names":["_ref","data","useEffect","window","scrollTo","sortByFrequency","setSortByFrequency","useState","selectedTag","setSelectedTag","tagCounts","allMdx","nodes","forEach","post","frontmatter","mainTag","concat","_toConsumableArray","otherTags","filter","Boolean","tag","sortedTags","Object","entries","sort","a","b","localeCompare","posts","map","id","title","slug","index","filteredPosts","includes","React","className","style","display","justifyContent","src","PugDance","width","alt","motion","div","initial","opacity","animate","exit","transition","duration","key","ease","marginBottom","Box","component","sx","listStyleType","padding","date","background","borderRadius","Link","to","textAlign","button","onClick","toggleSorting","whileTap","scale","stylesButtonsCommon","span","_ref2","count","stylesTagBadges","cursor","backgroundColor","some","whileHover","Head","SEO","description","keywords","image","canonicalUrl","children","badgeAbout","badgeAboutMarked","badgeEmoji","badgesAboutWrapper","mainTagGallery","tagPosts","buttonTextWrapper"],"sourceRoot":""}